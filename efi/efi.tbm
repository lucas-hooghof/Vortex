C_COMPILER(x86_64-w64-mingw32-gcc)
LINKER(x86_64-w64-mingw32-gcc)

ADD_CFLAGS(-std=c17 -Wall -Wextra -Wpedantic -mno-red-zone -ffreestanding -fno-stack-protector)
ADD_LDFLAGS(-nostdlib -Wl,--subsystem,10 -e efi_main)

FILES(efi.c)

POSTBUILDCOMMAND(../scripts/genimg.sh Vortex.hdd %prefix%/BOOTX64.EFI)

OUTPUT(BOOTX64.EFI)